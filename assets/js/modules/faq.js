export const faqData = [
    {
        id: 2,
        question: "Чем апартамент отличается от квартиры? ",
        minuses: [
            {
                text: "Апартаменты – это вид коммерческой недвижимости, используемый для проживания. Из минусов: 1) В Апартаментах нельзя прописаться, только временная регистрация до 5 лет. 2) невозможно, использовать мат капитал и другие субсидии от государства при покупке. 3) ставка налога на имущество выше, хотя кадастровая стоимость ниже, чем у аналогичной по площади квартиры и это компенсирует частично разницу. 4) тариф на коммуналку несколько выше, чем в квартире, но это компенсируется объемом предоставляемых услуг. Из плюсов: 1) Гостиничный сервис 24/7. 2) Эффективные планировки и огромные общественные пространства. Будучи резидентом комплекса, Вы получаете прямой доступ ко всей инфраструктуре – бассейн, SPA, фитнес, коворкинг, химчистка, прачечная и т. д. 3) Просторное лобби, вежливый ресепшн, охрана и безопасность для вас и гостей. 4) Доступ в охраняемый паркинг. 5) Апартаменты могут сдаваться в аренду как физическим, так и юридическим лицам, что расширяет круг потенциальных арендаторов и повышает загрузку. 6) Арендные ставки в апартаментах существенно выше, чем в квартирах, поскольку ориентированы на бизнес-аудиторию, предпочитающую комфорт, сервис, удобство и безопасность. 7) Собственник, больше не беспокоится о поиске арендатора, о документах и платежках, уборке и мелком ремонте, всю заботу обслуживанию комплекса и самого апартамента берет на себя управляющая компания, в т ч обеспечивает своевременную оплату коммунальных услуг арендатором и перечисление дохода собственнику. 8) Всю финансовую информацию о текущих расходов и доходах собственник может посмотреть онлайн в личном кабинете и/или приложении. Апартаменты идеально подходят для инвестиции и для собственного проживания, но если Вы покупаете квартиру с мат. капиталом или Вам нужна прописка, то этот формат недвижимости не совсем подходит под ваши цели."
            }
        ],
        pluses: []
    },
    {
        id: 4,
        question: "Что входит в оснащение сервисных апартаментов/номеров отеля? ",
        minuses: [
            {
                text: "В меблировку, которая оплачивается дополнительно, входит мебель, бытовая техника, освещение, текстиль, посуда, элементы дизайна. Состав и стоимость оснащения зависит от типа номера / сервисного апартамента. "
            }
        ],
        pluses: []
    },
    {
        id: 5,
        question: "Как я узнаю сколько заработал мой номер / сервисный апартамент? ",
        minuses: [
            {
                text: "В настоящий момент мы ведем разработку личного кабинета инвестора, который будет внедрен к моменту запуска объекта. В личном кабинете инвестору будет доступна в режиме онлайн вся информация по тому, сколько дней сдавался объект, по какому тарифу, какие были эксплуатационные расходы за период и т.д. На основании этих данных будут формироваться отчеты за период для согласования инвестором и перечисления полученного дохода."
            }
        ],
        pluses: []
    },
    {
        id: 6,
        question: "Могу ли я прописаться в апартаментах? ",
        minuses: [
            {
                text: "В объектах жилой недвижимости можно оформить постоянную прописку. В апартаментах – только временную регистрацию сроком на пять лет. Однако люди с временной пропиской обладают теми же правами, что и человек с постоянной регистрацией."
            }
        ],
        pluses: []
    },
    {
        id: 7,
        question: "Почему я подписываю так много договоров на сделке? Что входит в пакет договоров?",
        minuses: [
            {
                text: "В отличие от квартиры в новостройке, вы покупаете не просто пол и стены, а полностью готовый доходный продукт, сформированный для получение инвестором пассивного дохода от аренды. У этого продукта есть несколько составляющих, которые мы должны обеспечить инвестору, а именно: объект недвижимости (ДДУ), ремонт помещения (договор подряда), меблировка требуемого качества и в достаточном количестве для заселения гостей (договор купли-продажи оснащения), и порядок формирования дохода инвестора (регулируется и определяется договорами с УК)"
            }
        ],
        pluses: []
    },
    {
        id: 9,
        question: "Что такое готовый арендный бизнес? ",
        minuses: [
            {
                text: "Готовый арендный бизнес (ГАБ) - это отдельный объект недвижимости со своим кадастровым номерым, который сдается в аренду, а всеми операционными вопросами по получению дохода и операционному обслуживанию занимается профессиональная управляющая компания"
            }
        ],
        pluses: []
    },
    {
        id: 13,
        question: "От какой суммы рассчитывается доходность? ",
        minuses: [
            {
                text: "Доходность считается на всю сумму затрат на приобретение номера - т.е. от стоимости помещения + затраты на ремонт + затраты на мебель и технику"
            }
        ],
        pluses: []
    },
    {
        id: 14,
        question: "А если что-то выйдет из строя в номере/апартаменте? Например, потечет кран или перегорит лампочка?",
        minuses: [
            {
                text: "Если в процессе сдачи в аренду возникают какие-то проблемы – например, течет кран, заела дверная ручка, перегорела лампочка, не включается телевизор или еще что-то, то все это решает управляющая компания, инвестора в решение этих вопросов не вовлекают. Комфорт владения и получения дохода от аренды – основа нашей концепции доходного продукта. "
            }
        ],
        pluses: []
    },
    {
        id: 17,
        question: "Как я покупаю объект? ",
        minuses: [
            {
                text: "Мы ведем строительство в соответствии с 214-ФЗ, продажа осуществляется по договорам долевого участия с открытием эскроу-счетов. Помимо непосредственно договора на помещение, по которому вы станете собственником, вы также заключаете договор на отделку помещения и оснащение мебелью, а также договор с управляющей компанией."
            }
        ],
        pluses: []
    },
    {
        id: 19,
        question: "Какой налог на имущество я буду платить? ",
        minuses: [
            {
                text: "Ставка налога на имущество физических лиц в отношении апартаментов гостиничного типа составляет 0,1% от кадастровой стоимости объекта."
            }
        ],
        pluses: []
    }
];

export class FaqModule {
    constructor(containerId, options = {}) {
        this.container = document.getElementById(containerId);
        if (!this.container) return;
        
        this.limit = options.limit || null;
        this.theme = options.theme || 'dark'; // 'dark' (default) or 'light'
        
        this.render();
    }

    render() {
        // Create the title section
        const isLight = this.theme === 'light';
        const textColor = isLight ? 'text-back-black-sections' : 'text-white';
        const arrowColor = isLight ? 'stroke-back-black-sections' : 'stroke-white';
        
        let titleHtml = '';
        
        if (!this.limit) {
             titleHtml = `
                <div class="sx:py-16 md:py-24 ${textColor}">
                    <h2 class="title md:mb-16 sx:mb-10 text-left">
                        Ответы <br class="sx:hidden md:block">
                        на часто задаваемые <br class="sx:hidden md:block">
                        <img src="./assets/image/introTab/questions/questions.png" 
                             class="sx:hidden md:inline max-w-[13.875rem]" 
                             alt="Questions.">вопросы
                    </h2>
                    <div class="card">
                        <div class="accordions flex flex-col gap-4">
                            <!-- Accordion items will be injected here -->
                        </div>
                    </div>
                </div>
            `;
        } else {
             // For home page, title is handled outside or differently? 
             // Vue component has title inside. Let's keep it consistent.
             // On home page, title is "Ответы на часто задаваемые вопросы"
             titleHtml = `
                <div class="${textColor}">
                    <h2 class="title md:mb-16 sx:mb-10 text-left md:text-left sx:text-center">
                        Ответы <br class="sx:hidden md:block">
                        на часто задаваемые <br class="sx:hidden md:block">
                        <img src="assets/image/introTab/questions/questions.png" 
                             class="sx:hidden md:inline max-w-[13.875rem]" 
                             alt="Questions.">вопросы
                    </h2>
                    <div class="card mb-8">
                        <div class="accordions flex flex-col gap-4">
                            <!-- Accordion items will be injected here -->
                        </div>
                    </div>
                </div>
            `;
        }
        
        this.container.innerHTML = titleHtml;
        const accordionContainer = this.container.querySelector('.accordions');
        
        const data = this.limit ? faqData.slice(0, this.limit) : faqData;
        
        data.forEach(item => {
            const accordionItem = this.createAccordionItem(item, isLight);
            accordionContainer.appendChild(accordionItem);
        });
    }

    createAccordionItem(item, isLight) {
        const itemDiv = document.createElement('div');
        const borderColor = isLight ? 'border-gray-300' : 'border-white/20';
        itemDiv.className = `border-b ${borderColor} last:border-0`;
        
        const textColor = isLight ? 'text-back-black-sections' : 'text-white';
        const arrowColor = isLight ? 'stroke-back-black-sections' : 'stroke-white';
        const descColor = isLight ? 'text-gray-600' : 'text-description-text-color';

        // Header
        const header = document.createElement('button');
        header.className = 'w-full flex flex-row-reverse justify-between items-center py-6 text-left group transition-colors';
        header.innerHTML = `
            <div class="transform transition-transform duration-300 group-aria-expanded:rotate-0 -rotate-90">
                <svg class="w-8 h-8 md:w-16 md:h-16 ${arrowColor}" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 24L32 40L48 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <h2 class="${textColor} text-xl md:text-2xl font-medium pr-8">${item.question}</h2>
        `;
        
        // Content
        const content = document.createElement('div');
        content.className = 'grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-out';
        
        const contentInner = document.createElement('div');
        contentInner.className = `overflow-hidden ${descColor} text-base md:text-lg`;
        
        let contentHtml = '';
        if (item.description) {
            contentHtml += `<p class="mb-6 dynamic-answertext-font">${item.description}</p>`;
        }
        
        if (item.minuses && item.minuses.length) {
            item.minuses.forEach(minus => {
                contentHtml += `<p class="mb-6 dynamic-answertext-font">${minus.text}</p>`;
            });
        }
        
        if (item.pluses && item.pluses.length) {
            item.pluses.forEach(plus => {
                contentHtml += `<p class="mb-6 dynamic-answertext-font">${plus.text}</p>`;
            });
        }
        
        contentInner.innerHTML = `<div class="pb-6">${contentHtml}</div>`;
        content.appendChild(contentInner);
        
        // Click handler
        header.onclick = () => {
            const isExpanded = header.getAttribute('aria-expanded') === 'true';
            header.setAttribute('aria-expanded', !isExpanded);
            
            if (!isExpanded) {
                content.classList.remove('grid-rows-[0fr]');
                content.classList.add('grid-rows-[1fr]');
            } else {
                content.classList.add('grid-rows-[0fr]');
                content.classList.remove('grid-rows-[1fr]');
            }
        };
        
        header.setAttribute('aria-expanded', 'false');

        itemDiv.appendChild(header);
        itemDiv.appendChild(content);
        
        return itemDiv;
    }
}
